#!/bin/bash

if [[ ! $# -eq 1 ]]
  then
  echo -e "\e[95mBruh\e[0m you needa have just one argument. C'mon now."
else
  infile=$1
  if [[ $infile =~ .\.svg$ ]]
    then

    echo -en "\e[4m"                  # Underline
    echo -e "Input: \"$infile\""
    echo -en "\e[24;96m"              # Cyan, no Underline

    cat $infile

    echo -en "\e[0m"                  # Reset Normal

    fname=${infile%.svg}
    outfile=${fname//in\//out\/}.gcode
    cat $infile | python svg2gcode.py > $outfile
    #things=(cat out.gcode)

    #echo -en "\e[32m"                 # Green
    #echo "Done."
    
    echo ""
    echo -en "\e[0;4m"                  # White, Underlined
    echo -e "Output: \"$outfile\""

    echo -en "\e[24;33m"              # Orange, no Underline

    cat $outfile
    
    echo -ne "\e[0m"                  # Reset to normal
  else 
    echo -e "\e[31mNa.\e[0m That's not an svg file!"
  fi
fi
